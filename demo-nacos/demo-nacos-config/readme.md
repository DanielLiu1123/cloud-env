# nacos 做配置中心
***
使用比较简单, 讲一下nacos是如何做到动态刷新的

- 先讲1.x版本:
   - 简单来说就是一个长轮询操作 <br/>
     客户端向服务端发起请求获取是否有变更的配置数据,这时候服务端启动一个定时任务
     等待三十秒返回,假如Nacos在这30秒内配置变更了,那么会取消这个定时任务,并立即返回最新配置数据,
     这时候就需要使用AsyncContext(servlet3.0异步特性)这个对象了
     很容易发现这种长轮训方式是有问题的, 因为大部分请求都是无效的(所以在2.x做了优化)

- 2.x版本:
   - 使用真正的长连接代替了长轮询这种比较浪费资源的操作, 用的就是google的grpc(建议学习一下,用起来是真的爽)
     准确的说, 在nacos2.x中基本上所有的通信都用grpc所替代
     
    